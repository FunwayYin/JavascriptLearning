<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>proxy</title>
</head>
<body>

    <script type="application/javascript">

        // 1、概述
        // var obj = new Proxy({}, {
        //     get: function (target, key, receiver) {
        //         console.log(`getting ${key}!`);
        //         return Reflect.get(target, key, receiver);
        //     },
        //     set: function (target, key, value, receiver) {
        //         console.log(`setting ${key}!`);
        //         return Reflect.set(target, key, value, receiver);
        //     }
        // });
        // obj.count = 1;
        // setting count!
        // ++obj.count;
        // getting count!
        // setting count!

        var proxy = new Proxy({}, {
            get: function(target, property) {
                return 35;
            }
        });
        let obj = Object.create(proxy);
        console.log(obj.time);// 35

        // 上面代码对一个空对象架设了一层拦截，重定义了属性的读取（get）和设置（set）行为。
        // 这里暂时先不解释具体的语法，只看运行结果。对设置了拦截行为的对象obj，去读写它的属性，就会得到下面的结果。
        var target = {};
        var handler = {};
        var proxy = new Proxy(target, handler);
        proxy.a = 'b';
        target.a // "b"

        // 2、Proxy 实例的方法

        // 3、Proxy.revocable()

        // 4、this 问题

        // 5、实例：Web 服务的客户端

    </script>

</body>
</html>