<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>string</title>
    <script src="https://cdn.bootcss.com/jquery/2.2.3/jquery.min.js"></script>
</head>
<body>

    <div id="result"></div>

    <script type="application/javascript">
        //1、
        // console.log("\u0061");       //a
        // console.log("\uD842\uDFB7"); //𠮷
        // console.log('\u{1F680}' === '\uD83D\uDE80'); //true

        //2、codePointAt()
        // var s = "𠮷";
        // console.log(s.length );           // 2
        // console.log(s.charAt(0));         // ''
        // console.log(s.charAt(1));         // ''
        // console.log(s.charCodeAt(0));     // 55362
        // console.log(s.charCodeAt(1));     // 57271

        //3、
        //console.log(String.fromCharCode(0x20BB7));

        //4、
        // for (let codePoint of 'foo') {
        //     console.log(codePoint)
        // }

        //5、字符串text只有一个字符，但是for循环会认为它包含两个字符（都不可打印），而for...of循环会正确识别出这一个字符。
        // let text = String.fromCodePoint(0x20BB7);
        // for (let i = 0; i < text.length; i++) {
        //     console.log(text[i]);
        // };
        // for (let i of text) {
        //     console.log(i);
        // };

        //6、
        // console.log('abc'.charAt(0));    // "a"
        // console.log('𠮷'.charAt(0));     // "\uD842"

        //7、includes(), startsWith(), endsWith()
        // let s = 'Hello world!';
        // console.log(s.startsWith('Hello')); // true
        // console.log(s.endsWith('!'));       // true
        // console.log(s.includes('or'))        // true

        //8、这三个方法都支持第二个参数，表示开始搜索的位置。
        // let s = 'Hello world!';
        // s.startsWith('world', 6); // true
        // s.endsWith('Hello', 5); // true
        // s.includes('Hello', 6) // false

        //9、
        // console.log('x'.repeat(3));        // "xxx"
        // console.log('hello'.repeat(2));    // "hellohello"
        // console.log('na'.repeat(0));       // ""

        //10、
        // console.log('xxx'.padStart(2, 'ab'));  // 'xxx'
        // console.log('xxx'.padEnd(2, 'ab'));    // 'xxx'

        //11、
        // console.log('abc'.padStart(10,'0123456789'));
        // let basket ={
        //     count:123,
        //     onSale:16
        // };

        //12、模板字符串
        // $('#result').append(`
        //   There are <b>${basket.count}</b> items
        //    in your basket, <em>${basket.onSale}</em>
        //   are on sale!
        // `);

        //13、
        // $('#result').append(
        //      `In JavaScript this is
        //     not legal.`
        // );

        //14、
        // $('#result').append(
        //     `string text line 1
        //      string text line 2`
        // );

        //15、
        // let name = "Bob", time = "today";
        // let greeting = `\`Yo\` World!`;
        // console.log(greeting+` Hello ${name}, how are you ${time}?`)

        //16、
        // let name = "Bob", time = "today";
        // function getGreeting(){
        //     return "greeting";
        // }
        // $('#result').html(`
        //     <ul>
        //       <li>${15+8*49}</li>
        //       <li>${getGreeting()}</li>
        //     </ul>
        // `.trim());

        //17、
        // function authorize(user, action) {
        //     if (!user.hasPrivilege(action)) {
        //         throw new Error( `User ${user.name} is not authorized to do ${action}.`);
        //     }
        // }

        //18、
        // let addrs=[
        //     {
        //         first:"funway",
        //         last:"yin"
        //     },
        //     {
        //         first:"Jack",
        //         last:"Jones"
        //     }
        // ];
        // const tmpl = addrs => `
        //   <table>
        //     <tbody>
        //       ${addrs.map(addr => `
        //         <tr>
        //             <td>${addr.first}</td>
        //             <td>${addr.last}</td>
        //          </tr>
        //       `).join('')}
        //       </tbody>
        //   </table>
        // `;
        // $('#result').append(tmpl(addrs));

        //19、

        // 写法一
        // let str = 'return ' + '`Hello ${name}!`';
        // let func = new Function('name', str);
        // func('Jack');

        // 写法二
        // let str = '(name) => `Hello ${name}!`';
        // let func = eval.call(null, str);
        // func('Jack');

        //模板字符串之中还能调用函数
        // function fn() {
        //     return "Hello World";
        // }
        // console.log(`foo ${fn()} bar`);

        //12、编译函数
        // function compile(template){
        //     const evalExpr = /<%=(.+?)%>/g;
        //     const expr = /<%([\s\S]+?)%>/g;
        //     template = template
        //     .replace(evalExpr, '`); \n  echo( $1 ); \n  echo(`')
        //     .replace(expr, '`); \n $1 \n  echo(`');
        //     template = 'echo(`' + template + '`);';
        //     let script =
        //      `(function parse(data){
        //           let output = "";
        //           function echo(html){
        //               output += html;
        //           }
        //           ${ template }
        //           return output;
        //      })`;
        //     return script;
        // };
        // //模板
        // let template = `
        //     <ul>
        //       <% for(let i=0; i < data.supplies.length; i++) { %>
        //         <li><%= data.supplies[i] %></li>
        //       <% } %>
        //     </ul>
        // `;
        // let parse = eval(compile(template));
        // document.getElementById("result").innerHTML = parse({ supplies: [ "broom", "mop", "cleaner" ] });

        //13、
        // let a = 5;
        // let b = 10;
        // function tag(s, v1, v2) {
        //     console.log(s[0]);
        //     console.log(s[1]);
        //     console.log(s[2]);
        //     console.log(v1);
        //     console.log(v2);
        //     return "OK";
        // };
        // tag`Hello ${ a + b } world ${ a * b}`;

        //14、标签模板 标签模板其实不是模板，而是函数调用的一种特殊形式。“标签”指的就是函数，紧跟在后面的模板字符串就是它的参数。

        let siteName = "www.baidu.com";
        let visitorNumber = 1234;

        i18n`Welcome to ${siteName}, you are visitor number ${visitorNumber}!`
        // "欢迎访问xxx，您是第xxxx位访问者！"

    </script>
</body>
</html>